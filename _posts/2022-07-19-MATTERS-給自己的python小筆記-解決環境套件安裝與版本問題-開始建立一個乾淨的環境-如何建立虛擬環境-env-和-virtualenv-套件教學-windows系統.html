---
layout: post
title: 給自己的Python小筆記 - 解決環境套件安裝與版本問題，開始建立一個乾淨的環境 - 如何建立虛擬環境 - env 和 virtualenv 套件教學
  - Windows系統
date: 2022-07-19 14:13:05.000000000 +00:00
link: https://matters.news/@CHWang/%E7%B5%A6%E8%87%AA%E5%B7%B1%E7%9A%84python%E5%B0%8F%E7%AD%86%E8%A8%98-%E8%A7%A3%E6%B1%BA%E7%92%B0%E5%A2%83%E5%A5%97%E4%BB%B6%E5%AE%89%E8%A3%9D%E8%88%87%E7%89%88%E6%9C%AC%E5%95%8F%E9%A1%8C-%E9%96%8B%E5%A7%8B%E5%BB%BA%E7%AB%8B%E4%B8%80%E5%80%8B%E4%B9%BE%E6%B7%A8%E7%9A%84%E7%92%B0%E5%A2%83-%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83-env-%E5%92%8C-virtualenv-%E5%A5%97%E4%BB%B6%E6%95%99%E5%AD%B8-windows%E7%B3%BB%E7%B5%B1-bafyreidks5etoph4bh2zhzrvvu4zzrmicvxuq2p3w7d2ijfl37qcros6vi
categories: matters
tags: blog
author: 為自己Coding
---

<p><a href="https://github.com/chwang12341/Learn-Python-/tree/master/virtual_environment" target="_blank">Github連結</a></p><p><br></p><figure class="image"><img src="https://assets.matters.news/embed/d398af9b-62bd-42da-ba2a-b098eee4d73f.jpeg" data-asset-id="d398af9b-62bd-42da-ba2a-b098eee4d73f" referrerpolicy="no-referrer"><figcaption><span>攝影師：Flo Maderebner，連結：Pexels</span></figcaption></figure><p><br></p><p><br></p><p><br></p><p>嗨嗨，由於最近工作老是被問到，這個專案環境需要安装什麼套件?我用你寫的步驟，但是環境一直有問題?我突然意識到很多套件都是我在過去不同專案中所累積安装的，所以突然被問這個專案需要什麼套件，不知道要怎麼回答，總不能把我安装過的套件通通給他xd 每次問題一來，我第一個腦海裡浮現的是，你在說哪個專案，啊我這邊可以，你為什麼不行xd 然後就只能一句一句幫他看，報錯的原因跟解決所需要的套件，所以我決定在往後的專案中，每次開一個新專案，就建立一個新環境來安装套件，這樣就清楚明瞭了，但總不能每次開新專案，就砍掉以前的吧，所以這時候虛擬環境對我來說的重要性就出來了xd</p><h2><br></h2><h2><br></h2><h2><strong>1. 虛擬環境是什麼?</strong></h2><p><br></p><ul><li>一種獨立出來的Python執行環境，原理是借助虛擬機docker把一部分的內容獨立出來，稱為容器也就是虛擬環境，我們可以在不同的虛擬環境中下載這個專案需要的套件就好，而每個Python虛擬環境互相不影響</li><li>建立好後會是一個獨立的資料來,裡面有Python版本和所安装的套件</li></ul><h2><br></h2><h2><br></h2><h2><strong>2. 虛擬環境的應用場景</strong></h2><p><br></p><ul><li>在學習的過程中怕安装了一堆有的沒有的套件影響電腦</li><li>每個專案需要的套件版本不同，一直為不同專案重新安裝案件版本很麻煩，像是專案A需要Python3.6.5，但是專案B需要的則是Python2</li><li>當被問到這個專案需要什麼套件時，可能會忘記自己安裝了什麼，或因為以前別的專案有安装過所以不知道還需要裝哪些</li></ul><h2><br></h2><h2><br></h2><h2><strong>3. Python的虛擬環境套件</strong></h2><p><br></p><h2><strong>venv</strong></h2><p>Python内建用來管理與建立虛擬環境的套件，不需要額外下載</p><h4><strong>STEP 1: 建立虛擬環境</strong></h4><p>command: python-m venv (虛擬環境名稱)</p><pre class="ql-syntax">python -m venv virtual_env
</pre><figure class="image"><img src="https://assets.matters.news/embed/45b7f765-5be0-4a15-8d83-a551d77d4462.png" data-asset-id="45b7f765-5be0-4a15-8d83-a551d77d4462" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p><br></p><p><strong>系統就會在執行的目錄底下創建一個virtual_env的folder</strong></p><h4><strong>STEP 2: 開啟虛擬環境</strong></h4><p>Command: (虛擬環境資料夾名稱)\Scripts\activate.bat</p><pre class="ql-syntax">virtual_env\Scripts\activate.bat
</pre><p>當命令提示字元前面出現(virtual_env)，像是(virtual_env)(bäse) (資料夾路街)，表示成功進入了，就可以開始嗨了!!</p><figure class="image"><img src="https://assets.matters.news/embed/ce5787de-0ae7-40a3-85cd-536f54ae833b.png" data-asset-id="ce5787de-0ae7-40a3-85cd-536f54ae833b" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p><br></p><p><br></p><p><br></p><h4><strong>STEP 3: 退出虛擬環境</strong></h4><p>Command: (虛擬環境資料夾名稱)\Scripts\deactivate.bat</p><pre class="ql-syntax">virtual_env\Scripts\deactivate.bat
</pre><p>當(virtual env)不見了表示成功退出了</p><figure class="image"><img src="https://assets.matters.news/embed/202dbd92-3322-4100-bcc6-1e9cc3ae7c76.png" data-asset-id="202dbd92-3322-4100-bcc6-1e9cc3ae7c76" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p><br></p><p><br></p><h2><strong>virtualenv</strong></h2><p><br></p><h4><strong>STEP 1: 安裝套件</strong></h4><pre class="ql-syntax">pip install virtualenv
</pre><h4><br></h4><h4><strong>STEP 2: 建立虛擬環境</strong></h4><p>command: virtualenv (虛擬環境名稱)</p><pre class="ql-syntax">virtualenv virtual_env_1
</pre><figure class="image"><img src="https://assets.matters.news/embed/961ad7c5-fdb7-4d78-a675-6fdc75fd6eba.png" data-asset-id="961ad7c5-fdb7-4d78-a675-6fdc75fd6eba" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p><br></p><h4><strong>STEP 3: 開啟虛擬環境</strong></h4><p>Command: (虛擬環境資料夾名稱)\Scripts lactivate.bat</p><pre class="ql-syntax">virtual_env_1\Scripts\activate.bat
</pre><p>當命令提示字元前面出現(virtual_env_1)，像是(virtual_env_1)(base) (安料夾路徑)，就表示成功進入了，這樣就可以開始發揮了!!xd</p><h4><br></h4><h4><strong>STEP 4: 退出虛擬環境</strong></h4><p>Command: (虛擬環境的資料夾名稱)\Scripts\deactivate.bat</p><pre class="ql-syntax">virtual_env_1\Scripts\deactivate.bat
</pre><p>當(virtual_env_1)不見了，表示成功退出了</p><p><br></p><p><strong>兩個套件步驟幾乎是一樣的，只只差在指令略有不同跟一個要下載套件一個是內建的</strong></p><h2><br></h2><h2><br></h2><h2><strong>4. 補充: 一些管理套件的方法</strong></h2><p>我們先進到前面建立的虛擬環境中</p><h3><strong>安裝最新版本的套件</strong></h3><p>command: pip install (套件名稱)</p><pre class="ql-syntax">pip install plotly
</pre><h3><strong>安裝指定版本的套件</strong></h3><p>command: pip install (套件名稱)==(套件版本)</p><pre class="ql-syntax">pip install xlrd==1.2.0
</pre><h3><strong>把安裝好的套件升級到最新版</strong></h3><p>command: pip install --upgrade (套件名稱)</p><pre class="ql-syntax">pip install --upgrade xlrd
</pre><h3><strong>查看當前環境有哪些套件</strong></h3><pre class="ql-syntax">pip list
</pre><p><strong>執行結果</strong></p><figure class="image"><img src="https://assets.matters.news/embed/82e86a52-9c20-4521-8f18-9317da7e0a61.png" data-asset-id="82e86a52-9c20-4521-8f18-9317da7e0a61" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p><br></p><p><br></p><p><br></p><h3><strong>顯示套件資訊</strong></h3><p>command: pip show (套件名稱)</p><pre class="ql-syntax">pip show xlrd
</pre><p><strong>執行結果</strong></p><figure class="image"><img src="https://assets.matters.news/embed/99025c25-2e38-4067-9cd6-9746b020c2d5.png" data-asset-id="99025c25-2e38-4067-9cd6-9746b020c2d5" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p><br></p><p><br></p><h3><strong>將安裝的套件輸出成一個清單(txt檔)</strong></h3><p>command: pip freeze > (套件清單名稱).txt</p><pre class="ql-syntax">pip freeze > requirement.txt
​
## 查看清單內容 - Linux
cat requirement.txt
## 查看清單內容 - Windows
type requirement.txt
</pre><p><strong>執行結果</strong></p><figure class="image"><img src="https://assets.matters.news/embed/5a6282fb-b183-4987-9dd9-ccd2ccef6e05.png" data-asset-id="5a6282fb-b183-4987-9dd9-ccd2ccef6e05" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p><br></p><p><br></p><p><br></p><h3><strong>透過這份套件清單，直接下載所需套件</strong></h3><p>command: pip install -r (套件清單名稱).txt</p><pre class="ql-syntax">pip install -r requirement.txt
</pre><p><strong>執行結果</strong></p><figure class="image"><img src="https://assets.matters.news/embed/da0e1878-9e95-44c8-bcc2-c0fa4f8f7059.png" data-asset-id="da0e1878-9e95-44c8-bcc2-c0fa4f8f7059" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p><br></p><p><br></p><p><br></p><h2><br></h2><h2><br></h2><h2><strong>Reference</strong></h2><p><a href="https://docs.python.org/zh-tw/3.9/tutorial/venv.html" target="_blank">https://docs.python.org/zh-tw/3.9/tutorial/venv.html</a></p><p><a href="https://blog.csdn.net/godot06/article/details/81079064" target="_blank">https://blog.csdn.net/godot06/article/details/81079064</a></p>
