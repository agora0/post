---
layout: post
title: åšæŒåˆ·é¢˜ 295 ï½ æ•°æ®æµä¸­ä½æ•°
date: 2022-11-14 02:18:41.000000000 +00:00
link: https://matters.news/@potato_pepper/%E5%9D%9A%E6%8C%81%E5%88%B7%E9%A2%98-295-%E6%95%B0%E6%8D%AE%E6%B5%81%E4%B8%AD%E4%BD%8D%E6%95%B0-bafyreihqahcctdo347nwdmxbstxo6mpqgmh7bodgx4bqsrdgq3blqo3ane
categories: matters
tags: blog
author: åœŸè±†ç‚’é’æ¤’
---

<p><strong>åŸºæœ¬ä¿¡æ¯</strong></p><ul><li><strong><u>é¢˜å·ï¼š295</u></strong></li><li>é¢˜å‚ï¼šå¾®è½¯</li><li>éš¾åº¦ç³»æ•°ï¼šéš¾</li></ul><p><br></p><hr><p>OOP è®¾è®¡</p><pre class="ql-syntax" spellcheck="false">MedianFinder()&nbsp;åˆå§‹åŒ–.
void addNum(int num)&nbsp;æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®æµ.
double findMedian()&nbsp;è¿”å›å½“å‰æ•°æ®æµçš„ä¸­ä½æ•°.
</pre><p><br></p><p><strong>è§£é¢˜æ€è·¯</strong></p><ul><li>è¦æ‰¾ä¸­ä½æ•°ï¼Œæ ¹æ®ä¸­ä½æ•°å…¬å¼ï¼Œæƒ³åˆ°æ·»åŠ æ•°ç»„æ—¶å°†æ•°ç»„æ’åºï¼Œåœ¨ findMedian æ—¶ï¼Œæ ¹æ®æ•°ç»„é•¿åº¦å³å¯éå¸¸å®¹æ˜“è¿”å›ä¸­ä½æ•°ï¼›</li><li>å¦å¤–ä¸€ç§è§£æ³•ä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ª minHeap å’Œ maxHeapï¼Œä¸¤ä¸ª heap é•¿åº¦ç›¸å½“ï¼ˆä¸è¶…è¿‡1ï¼‰ï¼Œå¯»æ‰¾ä¸­ä½æ•°æ—¶æ ¹æ®ä¸¤ä¸ª heap é•¿åº¦åˆ¤æ–­è¿”å›</li></ul><hr><pre class="ql-syntax" spellcheck="false">class MedianFinder:
    
    # åˆå§‹åŒ– heapï¼ŒæŠŠæ•°æ®æµåˆ†ä¸º bigHeap å’Œ smallHeap ä¸¤ç»„
    def __init__(self):
        self.bigHeap = []
        self.smallHeap = []
    
    # å½“æ·»åŠ æ•°æ®æµæ—¶ï¼Œç°å°†æ•´æ•°å­˜å…¥ bigHeapï¼Œå¦‚æœ bigHeap çš„é•¿åº¦å¤§äº smallHeapï¼Œå°† bigHeap ä¸­æœ€å°å€¼æ‘å…¥ smallHeapï¼Œè¿™æ · bigHeap å’Œ smallHeap çš„é•¿åº¦å·®æœ€å¤šä¸º 1
    # å½“ bigHeap çš„æœ€å°å€¼å°äº smallHeap çš„æœ€å¤§å€¼æ—¶ï¼Œéœ€è¦å°† 2 ç€è¿›è¡Œå¯¹æ¢
    def addNum(self, num: int) -&gt; None:
        heapq.heappush(self.bigHeap, num)
        if len(self.bigHeap) &gt; len(self.smallHeap):
            heapq.heappush(self.smallHeap, -heapq.heappop(self.bigHeap))
            
        if self.bigHeap and self.smallHeap and self.bigHeap[0] &lt; -self.smallHeap[0]:
            swapBig = -heapq.heappop(self.bigHeap)
            swapSmall = -heapq.heappop(self.smallHeap)
            heapq.heappush(self.bigHeap, swapSmall)
            heapq.heappush(self.smallHeap, swapBig)

    # æŸ¥æ‰¾ä¸­ä½æ•°ï¼šå½“ bigHeap å’Œ smallHeap é•¿åº¦ç›¸ç­‰æ—¶ï¼ŒbigHeap æœ€å°å€¼ä¸ smallHeap æœ€å¤§å€¼ç›¸åŠ é™¤ä»¥ 2ï¼›å½“smallHeap é•¿åº¦è¾ƒå¤§æ—¶ï¼Œä¸­ä½æ•°å°±æ˜¯ smallHeap æœ€å¤§å€¼â€¦â€¦
    def findMedian(self) -&gt; float:
        if len(self.bigHeap) == len(self.smallHeap):
            return (self.bigHeap[0] + -self.smallHeap[0]) / 2
        else:
            return float(-self.smallHeap[0])
</pre><hr><h2><br></h2><p><strong>Constraints</strong></p><ul><li><code>-105 &lt;= num &lt;= 105</code></li><li><code>There will be at least one element in the data structure before calling findMedian.</code></li><li><code>At most 5 * 104 calls will be made to addNum and findMedian.</code></li></ul><p>è€ƒè¯•æ—¶ï¼Œå¯ä»¥å’Œè€ƒå®˜è®¨è®ºè¿”å›ä¸­ä½æ•°æ—¶ï¼Œæ•°ç»„æ˜¯å¦ä¸ºç©º</p><p><br></p><p><strong>Big O</strong></p><ul><li>Timeï¼šOï¼ˆ&nbsp; logn ï¼‰</li><li>Spaceï¼šOï¼ˆnï¼‰</li></ul><p><br></p><hr><p><br></p><p><strong>æµ‹è¯•</strong></p><ul><li>å½“æ•°æ®æµåªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼›</li><li>å½“æ•°æ®æµæœ‰ 2 ä¸ªå…ƒç´ æ—¶ï¼›</li><li>å½“éšæœºæ·»åŠ å¤šä¸ªç›¸åŒå…ƒç´ æ—¶</li><li>â€¦â€¦</li></ul><p><br></p><hr><p><strong>æ€»ç»“</strong></p><ul><li>æ’åºåœ¨æ‰¾å‡ºä¸­ä½æ•°çš„åšæ³•æ¯”è¾ƒå®¹æ˜“æƒ³åˆ°ï¼Œç”¨ heap åŸç†æŠŠæ•°æ®åˆ†ä¸¤ç»„çš„æ€è·¯ä¸å¤§å®¹æ˜“æƒ³åˆ°ï¼›</li><li>æœ¬é¢˜å½’ä¸ºéš¾æ¡£ï¼Œä¸»è¦ heap å±äºä¸­é«˜éš¾åº¦æ•°æ®ç»“æ„ï¼Œç„¶åæœ¬é¢˜è¿˜éœ€è¦æŠŠä¸¤ä¸ª heap ç»„è£…ä¸€ä¸‹ğŸ˜µ</li></ul><p><br></p>
