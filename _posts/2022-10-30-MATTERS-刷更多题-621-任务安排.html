---
layout: post
title: åˆ·æ›´å¤šé¢˜ 621 ï½ ä»»åŠ¡å®‰æ’
date: 2022-10-30 01:47:28.000000000 +00:00
link: https://matters.news/@potato_pepper/%E5%88%B7%E6%9B%B4%E5%A4%9A%E9%A2%98-621-%E4%BB%BB%E5%8A%A1%E5%AE%89%E6%8E%92-bafyreiav6k5twvs7a4luyhklinqgzf7tudrca7eqr4fdvibr6wijjdpvla
categories: matters
tags: blog
author: åœŸè±†ç‚’é’æ¤’
---

<p><strong>åŸºæœ¬ä¿¡æ¯</strong></p><ul><li>é¢˜å·ï¼š621</li><li>é¢˜å‚ï¼šè°·æ­Œ</li><li>éš¾åº¦ç³»æ•°ï¼šä¸­</li></ul><p><br></p><hr><p>æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå…ƒç´ ä»£è¡¨ä¸€ç§ä»»åŠ¡ï¼Œç›¸åŒå­—ç¬¦ä»£è¡¨ç›¸åŒä»»åŠ¡ã€‚æ•´æ•° n ä»£è¡¨ç›¸åŒä»»åŠ¡ä¹‹é—´éœ€è¦é—´éš”çš„æ—¶é—´ã€‚æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œæ—¶é—´éƒ½æ˜¯ 1â€¦â€¦</p><p>é—®ï¼šæ‰§è¡Œä»»åŠ¡ï¼Œæœ€å°‘éœ€è¦èŠ±è´¹çš„æ—¶é—´â€¦â€¦</p><pre class="ql-syntax" spellcheck="false">ä¾‹å¦‚ï¼štasks = ["A","A","A","B","B","B"], n = 2
ä¸ºäº†èŠ±æœ€å°‘æ—¶é—´å®Œæˆä»»åŠ¡ï¼Œå¯ä»¥å®‰æ’çš„é¡ºåºä¸ºï¼šA -&gt; B -&gt; idle -&gt; A -&gt; B -&gt; idle -&gt; A -&gt; Bï¼ŒèŠ±è´¹æ—¶é—´ä¸º 8

A ä»»åŠ¡ä¹‹é—´é—´éš” 2 æ¬¡ï¼ŒB ä»»åŠ¡ä¹‹é—´é—´éš” 2 æ¬¡ï¼Œå†å®‰æ’ä¸¤æ¬¡è½®ç©ºâ€¦â€¦
</pre><p><br></p><p><strong>è§£é¢˜æ€è·¯</strong></p><ul><li>åˆçœ‹æ­¤é¢˜ï¼Œè²Œä¼¼æ²¡æœ‰æƒ³æ³•ã€‚ä¸ºè§£é¢˜ï¼Œéœ€è¦å¼•å…¥æ¯”è¾ƒå¤æ‚çš„æ•°æ®ç»“æ„â€”â€”heap å’Œ dequeâ€¦â€¦ğŸ˜µ</li><li>heap æŠŠä»»åŠ¡æ•°ç»„æŒ‰ç…§ä¼˜å…ˆçº§æ’åºï¼Œè§£å†³äº†è®©é¢‘ç‡é«˜çš„ä»»åŠ¡ä¼˜å…ˆè½®å›çš„é—®é¢˜ï¼Œä»¥æ­¤å®ç°èŠ±æœ€å°‘æ—¶é—´å®Œæˆæ‰€æœ‰ä»»åŠ¡</li><li>deque åˆ™å¸®åŠ©è®¡ç®—æ—¶é—´â€¦â€¦</li><li>å¦å¤–è¿˜éœ€è¦ hashmap è®¡ç®—é¢‘ç‡ï¼ˆå³ heap çš„ä¼˜å…ˆçº§ï¼‰â€¦â€¦</li></ul><hr><pre class="ql-syntax" spellcheck="false">class Solution:
    def leastInterval(self, tasks: List[str], n: int) -&gt; int:
        # count character to a hashmap
        count = Counter(tasks)
        
        # æ­¤ heap ä¸º max heapï¼Œæ‰€ä»¥éœ€è¦æŠŠå…ƒç´ ç»å¯¹å€¼è´ŸåŒ–
        maxHeap = [-cnt for cnt in count.values()]
        heapq.heapify(maxHeap)

        time = 0
        # pairs of [-cnt, idleTime]
        q = deque()
        
        # å½“ heap æˆ– q ä¸ä¸ºç©ºæ—¶ï¼Œè¯´æ˜è¿˜æœ‰ä»»åŠ¡æ²¡å®Œæˆï¼Œå¾ªç¯éœ€è¦ç»§ç»­
        # æŒ‰ç…§ heap ä¼˜å…ˆçº§å–å‡ºä»»åŠ¡ï¼Œæ¯å–å‡ºä¸€æ¬¡ï¼Œå‰©ä½™ä»»åŠ¡ counter -1
        # åŒæ—¶æŠŠä¸ºå®Œæˆä»»åŠ¡æ”¾è¿› deque å†·å´ï¼Œå½“æ—¶é—´åŒ¹é…æ—¶ï¼Œè¯´æ˜æ‰§è¡Œç›¸åŒä»»åŠ¡ä¹‹é—´ä¿è¯äº†æœ€å°é—´éš”ï¼Œå¯ä»¥æŠŠä»»åŠ¡æ”¾å› heapâ€¦â€¦
        while maxHeap or q:
            time += 1
            if maxHeap:
                cnt = 1 + heapq.heappop(maxHeap)
                if cnt:
                    q.append([cnt, time + n])
                    
            if q and q[0][1] == time:
                heapq.heappush(maxHeap, q.popleft()[0])
        
        return time
</pre><hr><h2><br></h2><p><strong>Constraints</strong></p><ul><li><code>1 &lt;= task.length &lt;= 10<sup>4</sup></code></li><li><code>tasks[i]</code>&nbsp;is upper-case English letter.</li><li>The integer&nbsp;<code>n</code>&nbsp;is in the range&nbsp;<code>[0, 100]</code>.</li></ul><p><br></p><p><strong>Big O</strong></p><ul><li>Timeï¼šOï¼ˆnï¼‰</li><li>Spaceï¼šOï¼ˆnï¼‰</li></ul><p><br></p><p><strong>æµ‹è¯•</strong></p><ul><li>ä¸åŒä»»åŠ¡æ··åˆå‡ºç°</li><li>æ—¶é—´ä¸º 0 çš„ç‰¹æ®Šæƒ…å†µ</li><li>â€¦â€¦</li></ul><p><br></p><hr><p><strong>æ€»ç»“</strong></p><ul><li>é‡ç‚¹è€ƒå¯Ÿå¯¹ heap çš„è®¤çŸ¥â€¦â€¦ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ heap çš„å°ç™½æ˜¯ä¸å¯èƒ½åšå‡ºæ¥çš„</li><li>æœ¬é¢˜åº”ä½œä¸º heap ä¸»è¦é¢˜å®šæœŸå¤ä¹ </li><li>åœ¨æ€è·¯ä¸Šç»•æ¥ç»•å»ï¼Œå…¶å®æŒºéš¾çš„ğŸ˜­</li></ul><p><br></p>
