---
layout: post
title: 395 ï½ æ¯ä¸ªå­—ç¬¦åœ¨ k ä»¥ä¸Šçš„æœ€é•¿çš„ Substring
date: 2023-12-04 03:15:50.000000000 +00:00
link: https://matters.news/@potato_pepper/395-%E6%AF%8F%E4%B8%AA%E5%AD%97%E7%AC%A6%E5%9C%A8-k-%E4%BB%A5%E4%B8%8A%E7%9A%84%E6%9C%80%E9%95%BF%E7%9A%84-substring-bafybeibozjfx777bwluteik36iixwb556y7ncxekripj3yjnuv75sug6by
categories: matters
tags: blog
author: åœŸè±†ç‚’é’æ¤’
---

<p><strong>åŸºæœ¬ä¿¡æ¯</strong></p><ul><li><p>é¢˜å·ï¼š395</p></li><li><p>é¢˜å‚ï¼šäºšéº»ã€è„¸ä¹¦ã€è°·æ­Œ</p></li><li><p>éš¾åº¦ç³»æ•°ï¼šä¸­</p></li></ul><hr><p></p><p>æä¾›ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° kï¼Œæ±‚ä¸€ä¸ªæœ€é•¿çš„ substring çš„é•¿åº¦ï¼Œè¦æ±‚è¿™ä¸ª substring é‡Œçš„æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡å¤§äºç­‰äº kã€‚</p><p>å¦‚æœæ‰¾ä¸åˆ°è¿™æ ·çš„ substringï¼Œåˆ™è¿”å› 0.</p><p></p><pre><code>ä¾‹å¦‚ s = "aaabb", k = 3ï¼Œåˆ™è¾“å‡º 3. å› ä¸º â€œaaaâ€ æ»¡è¶³é¢˜ç›®æ¡ä»¶ï¼Œé•¿åº¦ä¸º 3.
å†ä¾‹å¦‚ s = "ababbc", k = 2ï¼Œåˆ™è¾“å‡º 5ï¼Œ "ababb" ä¸­ a å‡ºç° 2 æ¬¡ï¼Œb å‡ºç° 3 æ¬¡ï¼Œå¤§äºæˆ–ç­‰äº kã€‚ </code></pre><p></p><p><strong>è§£é¢˜æ€è·¯</strong></p><ol><li><p>è¦åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²é‡Œé¢å­—ç¬¦å‡ºç°æ¬¡æ•°å’Œ k çš„å…³ç³»ï¼Œæƒ³åˆ°éœ€è¦ç”¨åˆ°ã€Œæ•°æ®ç»“æ„ hashmapã€æ¥å¸®å¿™è§£å†³é—®é¢˜ã€‚</p></li><li><p>æ¥ä¸‹æ¥æ€è€ƒæ’é™¤æ¡ä»¶ï¼šå½“æŸä¸ªå­—ç¬¦åœ¨å­—ç¬¦ä¸²é‡Œå‡ºç°æ¬¡æ•°å°‘äº k æ—¶ï¼Œæ˜¯ä¸å¯èƒ½å‡ºç°åœ¨è¾“å‡ºç»“æœ substring ä¸­çš„ã€‚æ‰€ä»¥éœ€è¦<strong>æ€è€ƒæ€ä¹ˆå†™ä»£ç æŠŠå‡ºç°é¢‘ç‡å°äº k çš„å­—ç¬¦æ’é™¤</strong>ã€‚</p></li><li><p>substring æ˜¯è¿ç»­çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¸€æ—¦ s ä¸­å‡ºç°å¯ä¸æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ï¼ˆå‡ºç°é¢‘ç‡å°äº kï¼‰åï¼Œå°±åªèƒ½å¾€å·¦æˆ–å¾€å³å¯»æ‰¾ï¼ŒçŸ¥é“æ‰¾åˆ°ä¸€ä¸ª substring æ‰€æœ‰å­—ç¬¦æ»¡è¶³æ¡ä»¶ã€‚<strong>è¿™ä¸ªæ‰¾å¯»è¿‡ç¨‹çš„æ€è·¯å¾ˆç±»ä¼¼ã€Œmerge sortã€çš„åˆ†æ²»æ€æƒ³</strong>ã€‚</p></li></ol><p>æœ‰äº†ä»¥ä¸Šåˆ†æï¼Œæœ¬é¢˜çš„è§£é¢˜å…³é”®å°±æ˜¯<strong>ã€Œåˆ†æ²»æ€æƒ³ã€+ã€Œhashmapã€</strong>è¾…åŠ©ã€‚</p><p></p><hr><pre><code> class Solution:
    # åˆ†æ²»æ¨¡æ¿éœ€è¦ä¸€ä¸ª helper æ–¹æ³•
    def helper(self, sub_str, start, end, k):
        # å¦‚æœèµ·ç‚¹å’Œç»ˆç‚¹å·®å°äº kï¼Œé‚£è¯¥ substring ä¸æ»¡è¶³æ¡ä»¶ï¼Œè¿”å› 0
        if end - start &lt; k:
            return 0
        
        # åˆ›å»º hashmapï¼Œkey å‡ºç°å­—ç¬¦ï¼Œvalue å¯¹åº”è¯¥å­—ç¬¦å‡ºç°é¢‘ç‡
        count = {}
        for i in range(start, end):
            cur = sub_str[i]
            count[cur] = count.get(cur, 0) + 1
        
        # éå† hashmapï¼Œå½“å‡ºç°é¢‘ç‡å°äº k æ—¶ï¼Œéœ€è¦å¯ç”¨åˆ†æ²»æ¨¡æ¿
        for key, value in count.items():
            if value &lt; k:
                # åˆ†æ²»æ ¸å¿ƒä¸­ï¼šé¦–å…ˆæ‰¾åˆ°å‡ºç°é¢‘ç‡å°äº k çš„ j ä½ç½®ï¼Œå†ä» j ä½ç½®åˆ†å‡º left å’Œ right ä¸¤æ®µï¼Œè¿”å› left å’Œ right çš„è¾ƒå¤§å€¼ã€‚
                for j in range(start, end):
                    if sub_str[j] == key:
                        left = self.helper(sub_str, start, j, k)
                        right = self.helper(sub_str, j + 1, end, k)
                        return max(left, right)

        # å¦‚æœç¨‹åºæ²¡æœ‰å¯ç”¨åˆ†æ²»ä»£ç ï¼Œåˆ™è¯´æ˜è¯¥ substring æ²¡æœ‰å‡ºç°ä½äº k ä»¥ä¸‹å­—ç¬¦ä¸²ï¼Œå³å…¨å‘˜æ»¡è¶³ï¼Œè¿”å›å­—ç¬¦ä¸²é•¿åº¦ã€‚ 
        return end - start

    def longestSubstring(self, s: str, k: int) -&gt; int:
        return self.helper(s, 0, len(s), k)</code></pre><hr><p></p><p><strong>Constraints</strong></p><ul><li><p><code>1 &lt;= s.length &lt;= 10^4</code></p></li><li><p><code>s</code> consists of only lowercase English letters.</p></li><li><p><code>1 &lt;= k &lt;= 10^5</code></p></li></ul><p>åšé¢˜å‰è¦å’Œè€ƒå®˜è®¨è®ºå­—ç¬¦ä¸²ä¸­å¯èƒ½å‡ºç°çš„å­—ç¬¦èŒƒå›´ã€‚</p><hr><p><strong>æµ‹è¯•</strong></p><ul><li><p>å½“ s ä¸º 1 çš„è¾¹ç•Œå€¼æ—¶</p></li><li><p>å½“ s ä¸ºæœ€å¤§å€¼æ—¶ï¼Œæµ‹è¯•ç¨‹åºæ˜¯å¦æœ‰æ•ˆ</p></li><li><p>å½“ s è¢«ä½äº k é¢‘ç‡çš„å­—ç¬¦æ‰“æ–­æ—¶</p></li><li><p>å½“ s ä¸­æœ‰ 1+ ä»¥ä¸Šå­—ç¬¦æ»¡è¶³å‡ºç°é¢‘ç‡å¤§äº k æ—¶</p></li><li><p>â€¦â€¦</p></li></ul><p></p><hr><p></p><h2><strong>Big O</strong></h2><h3><code>æ—¶é—´å¤æ‚åº¦ï¼š</code>nlogn</h3><ul><li><p><code>åŒ merge sort</code></p></li></ul><h3>ç©ºé—´å¤æ‚åº¦ï¼š Oï¼ˆnï¼‰</h3><ul><li><p>ä½¿ç”¨ hashmap</p></li></ul><p></p><hr><p></p><p><strong>æ€»ç»“</strong></p><ul><li><p>æœ¬é¢˜æ˜¯ä¸€é“å­¦ä¹ åˆ†æ²»æ€æƒ³çš„ç»å…¸é¢˜ã€‚ç”±äº<strong>é¢˜ç›®éš¾åº¦è¿œé«˜äºã€Œä¸­æ¡£éš¾åº¦ã€</strong>ï¼Œéœ€è¦èŠ±è´¹æ›´å¤šæ—¶é—´å­¦ä¹ ğŸ˜­</p></li><li><p>ç ”ç©¶çš„æ ¸å¿ƒè¿˜æ˜¯<strong>å…ˆå¼„æ˜ç™½æ€è·¯</strong>ï¼Œæœ‰äº†æ€è·¯å<strong>å†ç†Ÿè®°è§£é¢˜æ¨¡æ¿</strong>ğŸ˜­</p></li></ul>
