---
layout: post
title: åˆ·æ— ç©· 1383 ï½ å›¢é˜Ÿè¡¨ç°æœ€å¤§åŒ–
date: 2022-11-16 00:23:05.000000000 +00:00
link: https://matters.news/@potato_pepper/%E5%88%B7%E6%97%A0%E7%A9%B7-1383-%E5%9B%A2%E9%98%9F%E8%A1%A8%E7%8E%B0%E6%9C%80%E5%A4%A7%E5%8C%96-bafyreienx26zhz4cd4djpbi565cvqm5uuokifzqbynrkwg7q4y5vhyhxlu
categories: matters
tags: blog
author: åœŸè±†ç‚’é’æ¤’
---

<p><strong>åŸºæœ¬ä¿¡æ¯</strong></p><ul><li>é¢˜å·ï¼š1383</li><li>é¢˜å‚ï¼šè„¸ä¹¦</li><li>éš¾åº¦ç³»æ•°ï¼šéš¾</li></ul><p><br></p><hr><p>ä¸€ä¸ªå›¢é˜Ÿæœ‰ n ä¸ªç å·¥ï¼Œæ¯ä¸ªç å·¥æœ‰å¯¹åº”çš„æ•ˆç‡å’Œé€Ÿåº¦ã€‚é—®ä»ä¸­é€‰ã€Œæœ€å¤šã€k ä¸ªç å·¥ï¼Œæ€ä¹ˆå®ç°å·¥ä½œè¡¨ç°æœ€å¤§åŒ–ï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼</p><pre class="ql-syntax" spellcheck="false">ä¾‹å¦‚ n = 6, speed = [2,10,3,1,5,8], efficiency = [5,4,3,9,7,2], k = 2ï¼Œè¿”å› 60. 
é€‰æ‹©ç å·¥ ï¼ˆ10ï¼Œ4ï¼‰å’Œï¼ˆ5ï¼Œ7ï¼‰å¯è¾¾æ•ˆç‡æœ€é«˜ï¼Œperformance = (10 + 5) * min(4, 7) = 60
</pre><p><br></p><p><strong>è§£é¢˜æ€è·¯</strong></p><ul><li>é‡ä¸Šæ­¤é¢˜å°±ä¸è¦æ­»ç£•ã€Œæ•ˆç‡ã€ã€Œé€Ÿåº¦ã€ã€Œè¡¨ç°ã€ä¸‰è€…ä¹‹é—´çš„å…³ç³»åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹äº†ï¼Œæƒ³åŠæ³•è®© performance è¾¾åˆ°æœ€å¤§å€¼æäº†</li><li>æ ¹æ®æ•°å­¦è®¡ç®—å…¬å¼ï¼Œå°±æ˜¯å¦‚ä½•è®©ã€Œé€Ÿåº¦å’Œã€å’Œã€Œæœ€å°æ•ˆç‡ã€å–åˆ°æœ€å¤§å€¼ã€‚äºæ˜¯ã€Œè´ªå¿ƒç®—æ³•ã€ç™»åœºäº†ã€‚</li><li>ç­”æ¡ˆå¾—çŸ¥ï¼Œ<strong>æœ€å°æ•ˆç‡å€¼ä¸º 4ï¼Œæ„å‘³ç€å¦‚æœç å·¥çš„æ•ˆç‡å¤§äº 4 æ˜¯ä¸å¯èƒ½å‚åŠ è®¡æ•°çš„</strong>ï¼Œäºæ˜¯æƒ³åˆ°ç”¨ maxHeapï¼›</li><li>è‡³äº<strong>ç´¯ç§¯é€Ÿåº¦ï¼Œåªèƒ½åœ¨æ•ˆç‡å¤§äºæˆ–ç­‰äº 4 çš„ç å·¥å½“ä¸­é€‰æ‹©</strong>ã€‚å¦‚æœæœ€å¤šè¦é€‰ k ä¸ªç å·¥ï¼Œé‚£å¯ä»¥å‡†å¤‡ä¸€ä¸ªé•¿åº¦ä¸º k çš„ minHeapï¼Œç´¯ç§¯é€Ÿåº¦ minHeap å­˜æ”¾ top k é€Ÿåº¦â€¦â€¦</li></ul><hr><pre class="ql-syntax" spellcheck="false">class Solution:
    def maxPerformance(self, n: int, speed: List[int], efficiency: List[int], k: int) -&gt; int:
        # åˆå§‹åŒ– maxHeapï¼Œé…å¯¹ä¸ºã€Œ-efficiency ï½ speedã€
        maxHeap = []
        heapq.heapify(maxHeap)
        for i in range(n):
            maxHeap.append([-efficiency[i], speed[i]])
            
        # åˆå§‹åŒ–å­˜æ”¾ top k é€Ÿåº¦çš„ minHeap    
        availableSpeed = []
        heapq.heapify(availableSpeed)
        
        accSpeed = 0
        res = 0
        
        # éå†å·²é…å¯¹çš„ maxHeap
        # availableSpeed é•¿åº¦å°äº k æ—¶ï¼Œç›´æ¥å¾€é‡Œé¢æ·»åŠ é€Ÿåº¦
        # availableSpeed é•¿åº¦å¤§äºç­‰äº k æ—¶ï¼Œçœ‹æ˜¯å¦éœ€è¦è®©æœ€å°å€¼å’Œå½“å‰é€Ÿåº¦æ›¿æ¢
        while maxHeap:
            eff, speed = heapq.heappop(maxHeap)
            
            if len(availableSpeed) &lt; k:
                accSpeed += speed
                heapq.heappush(availableSpeed, speed)               
            elif availableSpeed[0] &lt; speed:
                accSpeed -= heapq.heappop(availableSpeed)
                accSpeed += speed
                
                heapq.heappush(availableSpeed, speed)
            
            res = max(res, -eff * accSpeed)
        
        return res % (10**9+7)
</pre><hr><h2><br></h2><p><strong>Constraints</strong></p><ul><li><code>1 &lt;= k &lt;= n &lt;= 105</code></li><li><code>speed.length == n</code></li><li><code>efficiency.length == n</code></li><li><code>1 &lt;= speed[i] &lt;= 105</code></li><li><code>1 &lt;= efficiency[i] &lt;= 108</code></li></ul><p><br></p><p><strong>Big O</strong></p><ul><li>Timeï¼šOï¼ˆ nlogn ï¼‰ï¼Œéå†äº†é•¿åº¦ä¸º n çš„ maxHeapï¼Œéå†è¿‡ç¨‹ä¸­ç”¨åˆ°äº† heappop å’Œ heappushï¼Œå¤æ‚åº¦ä¸º logn</li><li>Spaceï¼šOï¼ˆn + kï¼‰ï¼Œåˆ›å»ºäº†é•¿åº¦ä¸º n çš„maxHeap å’Œé•¿åº¦ä¸º k çš„ availableSpeed</li></ul><p><br></p><hr><p><br></p><p><strong>æµ‹è¯•</strong></p><ul><li>å½“ k =&nbsp; 1 æ—¶ï¼›</li><li>â€¦â€¦</li></ul><p><br></p><hr><p><strong>æ€»ç»“</strong></p><ul><li>ç»•æ¥ç»•å»æƒ³äº† 2 å¤©æ‰æƒ³å‡ºæ¥ğŸ˜­</li><li><strong>çªç ´å£ä¸ºæ€è€ƒç”¨ã€Œè´ªå¿ƒã€æ€è·¯è·å¾—æœ€å¤§å€¼ï¼Œå†æ ¹æ®è´ªå¿ƒæ€è·¯åˆå§‹åŒ–ç›¸åº” maxHeap å’Œ minHeap å¸®å¿™è§£é¢˜</strong></li><li>é‰´äºè´ªå¿ƒå’Œ heap éƒ½å±äºä¸­éš¾æ¡£ç®—æ³• + æ•°æ®ç»“æ„ï¼Œç„¶åè¿˜è¦äºŒè€…ç»“åˆï¼Œæ­¤é¢˜ééš¾æŒ¡è«å±ğŸ˜­</li><li>è€ƒåœºä¸Šé‡åˆ°ï¼Œèµ¶è„šå¾ˆéš¾åœ¨ 30 åˆ†é’Ÿå†…æœ‰æ€è·¯ğŸ˜­</li></ul><p><br></p>
