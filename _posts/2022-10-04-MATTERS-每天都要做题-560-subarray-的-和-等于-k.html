---
layout: post
title: æ¯å¤©éƒ½è¦åšé¢˜ 560 ï½ subarray çš„ å’Œ ç­‰äº k
date: 2022-10-04 01:22:52.000000000 +00:00
link: https://matters.news/@potato_pepper/%E6%AF%8F%E5%A4%A9%E9%83%BD%E8%A6%81%E5%81%9A%E9%A2%98-560-subarray-%E7%9A%84-%E5%92%8C-%E7%AD%89%E4%BA%8E-k-bafyreidmx2croa5yydlabehdzapeoa3yebzrmbhaasdxtu2gla7worgtp4
categories: matters
tags: blog
author: åœŸè±†ç‚’é’æ¤’
---

<p><strong>åŸºæœ¬ä¿¡æ¯</strong></p><ul><li>é¢˜å·ï¼š560</li><li>é¢˜å‚ï¼šè„¸ä¹¦</li><li>éš¾åº¦ç³»æ•°ï¼šä¸­</li></ul><p><br></p><hr><p>å·²çŸ¥ä¸€ä¸ªæ•°ç»„ï¼Œé—®æ•°ç»„é‡Œé¢æœ‰å¤šå°‘ subarray çš„å’Œç­‰äº kã€‚</p><pre class="ql-syntax" spellcheck="false">ä¾‹å¦‚ï¼šnums = [1,2,3], k = 3
</pre><p>1 + 2 = 3ï¼Œ 3 = 3ï¼Œæ‰€ä»¥è¿”å› 2ã€‚</p><p>subarray éœ€è¦è¿ç»­ä¸”ä¸ä¸ºç©º</p><p><strong>è§£é¢˜æ€è·¯</strong></p><ul><li>æœ¬é¢˜çœ‹ä¼¼ç®€å•ï¼Œå…¶å®ç•¥éš¾ã€‚å¦‚æœæƒ³ä¸åˆ° prefix å¾ˆå®¹æ˜“å¡å£³</li><li>æœ¬é¢˜æˆ‘ä»¬éœ€è¦ç®—å‡ºä¹‹å‰å…ƒç´ çš„å’Œï¼Œå†æ ¹æ®å½“å‰ sum å’Œä¹‹å‰çš„å·®è·ç®—å‡ºæœ‰å¤šå°‘ç§é…å¯¹æ–¹å¼â€¦â€¦</li><li>å¦‚ä½•æ ¹æ® prefix æ‰¾å‡ºç®—æ³•ï¼Œæœ€ç»ˆåˆ<strong>å½’ç»“äº data pattern å¯»æ‰¾è§„å¾‹</strong>ä¸ŠğŸ˜³</li></ul><p><br></p><hr><pre class="ql-syntax" spellcheck="false">class Solution:
    def subarraySum(self, nums: List[int], k: int) -&gt; int:
        # åˆå§‹è¿”å›å€¼ res
        res = 0
        # åˆ›å»ºå˜é‡ï¼Œè®¡ç®—å½“å‰å˜é‡
        curSum = 0

        # hashmap ç”¨æ¥è®°å½•å„ç§ prefix çš„æ•°é‡ï¼Œä¸ºè§£é¢˜å…³é”®
        # prefix: count
        # è¿›å…¥ for å¾ªç¯ä¹‹å‰ï¼Œåˆå§‹åŒ–å‰ç¼€å’Œä¸º 0 çš„æ—¶å€™æœ‰ 1 ç§å¯èƒ½â€”â€”å³ï¼šæ•°ç»„å¼€å¤´ç¬¬ -1 ä¸ªå…ƒç´ ï¼Œä»€ä¹ˆå…ƒç´ éƒ½æ²¡æœ‰å‰ç¼€å’Œæ­¤æ—¶ä¸º 1
        prefixSum = { 0: 1 }
        
        for n in nums:
            curSum += n
            # è®¡ç®—å½“å‰å’Œä¸ç›®æ ‡ k ä¹‹é—´çš„å·®è·
            diff = curSum - k
            # å¦‚æœæ­¤æ—¶ hashmap æœ‰å¯¹åº”å·®è·çš„è®°å½•ï¼Œåˆ™è¯´æ˜æœ‰ x ç§å¯èƒ½æ»¡è¶³ diff + k = curSum
            res += prefixSum.get(diff, 0)
            
            # æ›´æ–° prefixï¼Œç”¨äºä¸‹ä¸€æ¬¡è®¡ç®—â€¦â€¦
            prefixSum[curSum] = 1 + prefixSum.get(curSum, 0)
            
        return res
</pre><p><br></p><hr><p><strong>Constraints</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 2 * 104</code></li><li><code>-1000 &lt;= nums[i] &lt;= 1000</code></li><li><code>-107 &lt;= k &lt;= 107</code></li></ul><p>æœ¬é¢˜éœ€è¦å¼•å…¥ ã€Œ prefix å‰ç¼€å’Œã€ çš„ä¸€ä¸ªåŸå› å°±æ˜¯ k å’Œæ•°ç»„å…ƒç´ å¯ä»¥ä¸ºè´Ÿâ€¦â€¦</p><p><br></p><p><strong>Big O</strong></p><ul><li>Timeï¼šOï¼ˆnï¼‰</li><li>Spaceï¼šå¼•å…¥ hashmapï¼Œæ•… Oï¼ˆnï¼‰</li></ul><p><br></p><p><strong>æµ‹è¯•</strong></p><ul><li>æœ‰æ»¡è¶³çš„ subarray ç›¸åŠ å’Œç­‰äº kï¼Œæœ‰å¤šé‡çŠ¶å†µåŒæ—¶æ»¡è¶³ï¼Œæ£€æŸ¥ç®—æ³•æ˜¯å¦æœ‰ç–æ¼</li><li>ä¸æ»¡è¶³çš„çŠ¶å†µ</li></ul><p><br></p><hr><p><strong>æ€»ç»“</strong></p><p>è™½ç„¶æœ€ç»ˆä»£ç ä¸å¤æ‚ï¼Œä¹Ÿæ²¡æœ‰æ¶‰åŠé«˜çº§æ•°æ®ç»“æ„ï¼Œä½†<strong>æ€è·¯æŒºç»•</strong>â€¦â€¦è™½ç„¶ brute force æ˜æ˜¾å¯ä»¥ç”¨æ¥è§£é¢˜ï¼Œä½†è€ƒç‚¹æ˜æ˜¾æ˜¯ prefixâ€¦â€¦ğŸ˜µ </p><p>åŸºäºè§£ä½“æ€è·¯ï¼Œéœ€è¦å®šæœŸå›é¡¾æ·±å…¥ç†è§£ prefix çš„ç²¾é«“â€¦â€¦ğŸ™ˆ</p>
